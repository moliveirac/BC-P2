{"ast":null,"code":"import { createAddAll } from './add-all.js';\nimport last from 'it-last';\nimport { configure } from './lib/configure.js';\nimport { normaliseInput } from 'ipfs-core-utils/files/normalise-input-single';\n\n/**\n * @param {import('./types').Options} options\n */\nexport function createAdd(options) {\n  const all = createAddAll(options);\n  return configure(() => {\n    /**\n     * @type {import('./types').RootAPI[\"add\"]}\n     */\n    async function add(input, options = {}) {\n      const source = normaliseInput(input);\n      // @ts-expect-error - all may return undefined if source is empty\n      const addAllPromise = all(source, options);\n      // @ts-expect-error - last may return undefined if source is empty\n      return await last(addAllPromise);\n    }\n    return add;\n  })(options);\n}","map":{"version":3,"names":["createAddAll","last","configure","normaliseInput","createAdd","options","all","add","input","source","addAllPromise"],"sources":["/home/miguioli/Aplicaciones/dapp_ipfs/node_modules/kubo-rpc-client/src/add.js"],"sourcesContent":["import { createAddAll } from './add-all.js'\nimport last from 'it-last'\nimport { configure } from './lib/configure.js'\nimport { normaliseInput } from 'ipfs-core-utils/files/normalise-input-single'\n\n/**\n * @param {import('./types').Options} options\n */\nexport function createAdd (options) {\n  const all = createAddAll(options)\n  return configure(() => {\n    /**\n     * @type {import('./types').RootAPI[\"add\"]}\n     */\n    async function add (input, options = {}) {\n      const source = normaliseInput(input)\n      // @ts-expect-error - all may return undefined if source is empty\n      const addAllPromise = all(source, options)\n      // @ts-expect-error - last may return undefined if source is empty\n      return await last(addAllPromise)\n    }\n    return add\n  })(options)\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,cAAc;AAC3C,OAAOC,IAAI,MAAM,SAAS;AAC1B,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,cAAc,QAAQ,8CAA8C;;AAE7E;AACA;AACA;AACA,OAAO,SAASC,SAASA,CAAEC,OAAO,EAAE;EAClC,MAAMC,GAAG,GAAGN,YAAY,CAACK,OAAO,CAAC;EACjC,OAAOH,SAAS,CAAC,MAAM;IACrB;AACJ;AACA;IACI,eAAeK,GAAGA,CAAEC,KAAK,EAAEH,OAAO,GAAG,CAAC,CAAC,EAAE;MACvC,MAAMI,MAAM,GAAGN,cAAc,CAACK,KAAK,CAAC;MACpC;MACA,MAAME,aAAa,GAAGJ,GAAG,CAACG,MAAM,EAAEJ,OAAO,CAAC;MAC1C;MACA,OAAO,MAAMJ,IAAI,CAACS,aAAa,CAAC;IAClC;IACA,OAAOH,GAAG;EACZ,CAAC,CAAC,CAACF,OAAO,CAAC;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}